---
 title: linux master
 categories: 
     - spring
 published: false
---



### Tripwire
변조 확인 프로그램
침입자에 의해 파일이 변조되었는지 확인 



### 백업 프로그램 
- dump: 시스템 백업, 복원 
- dd: 데이터 변환 * 복사
- cpio: 파일 압축 해 시스템을 백업, 복원할 수 있음
- rsync: 파일 동기화




### Set-UID
프로그램 실행시, 그 파일의 소유자 권한으로 실행되도록 하는 특수 권한
남용할수록 보안이 취약해짐





### 로그 
- 종류
    - /var/log/secure: 보안 로그(인증 관련) (텍스트)
    - /var/log/lastlog: 각 사용자의 마지막 로그인 정보 (바이너리)
        cli: $lastlog - /var/log/wtmp: 
        시스템 부팅, 종료 | 로그인, 로그아웃 정보 저장 (바이너리)
        cli: $last
    - /var/log/btmp: 
        실패한 로그인 시도를 저장 (바이너리)
        cli: $lasttb
    - /var/log/btmp: 
        시스템 로그파일(시스템 메세지), 데몬 관련 이벤트를 로깅
    - /var/log/xferlog: 
        FTP 로깅(전송 정보,  로그인시도)
    - /var/log/boot: 
        부팅 이벤트 로깅
    

- priority
    1. Emergency
    2. Alert 
    3. Critical
    4. Error
    5. Warning
    6. Notice
    7. Information
    8. Debug

### sysctl
커널 설정 명령어 (on unix)로 아래 설정이 가능
- net: 네트워크
- vm
- fs
- kernel
- security

### Unix 계열
- System V
- BDS

### ALSA (Advanced linux Sound Architecture)
사운드 아키텍처 
오디오 장치 관리


### IPP (Internet Printer Protocol)
프린터 통신 프로토콜


### CUPS (Common Unix Printing System)
인쇄 시스템(프린터 설정, 대기열 관리 ...)


### XSANE (XScanner Access Now Easy)
스캐너 소프트웨어




### LVM (Logic Volume Manager)
파티션 디스크를 관리하는 Tool
- cli: 
    $ lvcreate -L 20G -n backup lvm0
    L == Logical (논리적 볼륨)




### 커널: 
- dmesg: 명령어 > 커널 메세지 확인
    커널 링 버퍼의 내용을 출력하는 도구 (부팅 메세지, 하드웨어 오류, 드라이버 메세지)
- 컴파일:
    - make mrproper: 소스 디렉토리 초기화 (clean)
    - make menuconfig: 커널 설정 도구(드라이버 선택)
    - make modules: 커널 소스 컴파일(빌드)
    - make modules_install: 커널을 부팅하기위해 설치

    - modprobe: 커널 모듈을 로딩하기위한 도구
        $ modprobe e1000 (모듈 로드)
        $ modprobe -r e1000 (모듈 로드 취소)
- 아키텍처(커널 종류): 
    1. 단일(monolithic): 리눅스에서 사용
    2. 마이크로(micro): 미닉스에서 사용
    3. 혼합(hybrid): 윈도우에서 사용
    4. 나노(naano)












### 명령어
- passwd: 사용자의 비밀번호를 관리하는 명령어
    -l: lock > 잠금
    -d: delete > 비밀번호를 삭제
    -u:  unlock > 잠겼던 해제 


- write:  특정 사용자에게 메세지 전송
- wall(write all): 모든 사용자에게 메세지 전송
- mesg: 메세지 설정 (메세지 전송 X)
- mail: 메일 전송 명령어

- crontab: 
    - e: edit 편집
    - l: list 목록
    - r: remove 삭제

- at: 예약 실행 
- atq: 예약 실행 목록
- atrm: 예약 작업 삭제




### 개념
- PAM (Pluggable Authentication Modules)
    인증 관리 시스템 (on linux)
        1. 모듈링을 통한 다양한 인증방법 (비밀번호, 지문, 스마트카드 ...)
        2. 정책 설정


sudo, su
    sudo(superuser do)  
        특정 사용자에게 관리자권한을 임시부여해 명령을 실행
        sudo가 허용된 명령어만 실행할 수 있으며, 기록이 root로 남는게 아닌, 명령을 실행한 사용자의 계정으로 남음
    su(subsitute user)  
        관리자 계정으로 로그인 > 보안 취약




### 환경 설정
/etc/login.defs:
    계정 관리 및 정책(최소 길이, 최대 길이, 유효기간 ...) 설정
/etc/passwd: 
    계정 정보, 
/etc/skel:
    사용자가 생성될 때 복사되는 사용자 홈 디렉토리의 템플릿 파일
/etc/default/useradd
    사용자 생성시 디폴트값을 설정하는 파일
    홈 디렉토리, 기본 그룹 ...





- ldd (List Dynamic Dependencies): 실행 파일이 사용하는 공유 라이브러리
- blkid (BlockId): 블록 장치 UUID, 파일 시스템 유형을 표시 주로 파티션 정보 확인
- ldconfig(Dynamic Linker Runtime Binding): 공유 라이브러리 갱신 및 생성
- ld.so.conf



- umask: 
파일, 디렉토리가 생성될 때 기본 권한을 설정하는데 사용되는 값
umask 설정시, 파일이나 디렉토리가 생성될 때 기본 권한에서 umask값이 빠진뒤 생성됨






디스크 명령어
### 디스크
- 명령어
    - mount: 볼륨을 시스템에 연결
        $ mount /dev/sdb1 /mnt
    - mount: 볼륨을 시스템에 연결 해제
    - fdisk: 디스크, 파티션 정보 조회



- 설정 파일
    - /etc/fstab:
        시스템이 부팅될 때 자동으로 마운트할 파일 시스템의 정보를 설정하는 파일
    - /etc/group:
        시스템의 그룹 정보를 저장
    - /etc/exports:
        NFS 서버에서 공유할 디렉토리를 설정
        + 그 디렉토리에 접근하기위한 클라이언트 설정 
    - /etc/partitions:
        커널에서 시스템에 연결된 디바이스에 대한 정보를 제공하는 파일




프린터 명령
- lp: 프린터 작업요청 (V)
- lpc: 프린터 대기열 제어 (BSD)
- lpstat: 프린터 대기열 상태 출력 (V)
- cancel: 프린터 작업 취소 (V)



스캐 명령
- xcam (Simple Scan and Image Acquisition): 카메라 장치에서 이미지를 캡처
- scanadf (ADF): 자동 문서 공급기(ADF)를 장착된 스캐너를 사용해 여러장의 문서를 연속 스캔
- scanimage: 이미지를 캡처하는 명령어
- sane-fine-scanner: 시스템에서 스캐너를 검색하고 연결되었는지 확인하기위한 명령어



CUPS (Common Unix Printing System)프린팅 시스템
Linux, Unix에서 인쇄를 제공하는 시스템


uname 
시스템 정보 출력(시스템명, 커널버전, 운영체제 ....)
- options: 
    -u: 호스트명
    -o: OS명
    -r: 커널버전
    -s: 커널명



setfacl: 파일, 디렉토리의 접근 제어목록 설정
읽기, 쓰기, 실행 외에 더 세부적인 권한을 설정할 수 있도록 도와주는 기능

